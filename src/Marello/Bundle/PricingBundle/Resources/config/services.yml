services:
    marello_productprice.product.provider.product_channel_price:
        class: Marello\Bundle\PricingBundle\Provider\ProductChannelPriceProvider
        arguments:
            - @doctrine
            - @translator
            - @oro_locale.settings

    marello_productprice.price.form_subscriber:
        class: Marello\Bundle\PricingBundle\Form\EventListener\PricingSubscriber
        arguments:
            - @doctrine.orm.entity_manager
            - @oro_locale.settings

    marello_productprice.channelprice.form_subscriber:
        class: Marello\Bundle\PricingBundle\Form\EventListener\ChannelPricingSubscriber
        arguments:
            - @doctrine.orm.entity_manager
            - Marello\Bundle\PricingBundle\Model\PricingAwareInterface
            - @marello_product.util.product_helper

    marello_productprice.twig.pricing_extension:
        class: Marello\Bundle\PricingBundle\Twig\PricingExtension
        arguments:
            - @marello_productprice.product.provider.product_channel_price
        tags:
            - { name: twig.extension }
